# Azure Cloud Final. Ssak3

# Azure 환경

- Azure (http://portal.azure.com) : dragon.skcc@gmail.com
- AZure 포탈에서 리소스 그룹 > 쿠버네티스 서비스 생성 > 컨테이너 레지스트리 생성
- 리소스 그룹 생성 : dragon-rg
- 컨테이너 생성( Kubernetes ) : dragonAKS
- 레지스트리 생성 : dragonConreg, dragonConreg.azurecr.io

# 서비스 시나리오

# 기능적 요구사항
1. 고객이 청소 요청을 등록한다.
2. 고객이 청소 요청을 취소한다.
3. 고객이 견적(청소부)을(를) 선택한다.
4. 고객이 견적(청소부)을(를) 취소한다.
5. 청소부가 견적을 등록한다.
6. 청소가 완료되면 결제가 된다.(Sync, 결제서비스)
7. 청소부가 청소를 완료한다.
8. 청소부가 청소를 취소한다.



호스트가 속소를 신규 등록한다.
호스트가 숙소를 삭제한다.
게스트가 숙소를 검색한다.
게스트가 숙소를 선택하여 사용 예약한다.
게스트가 결제한다. (Sync, 결제서비스)
결제가 완료되면, 결제 & 예약 내용을 게스트에게 전달한다. (Async, 알림서비스)
예약 내역을 호스트에게 전달한다.
게스트는 본인의 예약 내용 및 상태를 조회한다.
게스트는 본인의 예약을 취소할 수 있다.
예약이 취소되면, 결제를 취소한다. (Async, 결제서비스)
결제가 취소되면, 결제 취소 내용을 게스트에게 전달한다. (Async, 알림서비스)


# 비기능적 요구사항
트랜잭션
청소가 완료되지 않은 건은 결제가 되지 않아야 한다- Sync 호출
장애격리
통지(알림) 기능이 수행되지 않더라도 예약은 365일 24시간 받을 수 있어야 한다 - Async (event-driven), Eventual Consistency
결제시스템이 과중되면 사용자를 잠시동안 받지 않고 결제를 잠시후에 하도록 유도한다 - Circuit breaker, fallback
성능
고객과 청소부가 대쉬보드에서 현황을 확인할 수 있는 상태를 대쉬보드(프론트엔드)에서 확인할 수 있어야 한다 - CQRS
상태가 바뀔때마다 email, app push 등으로 알림을 줄 수 있어야 한다 - Event driven